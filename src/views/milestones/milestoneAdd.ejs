<!-- This page should only be visible to logged-in admins, OR the user to whom the milestone belongs. -->
<!-- This page should also be visible to users under the guise of "add milestone", unless we make that a separate page. -->

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Add Milestone · Ella Rises</title>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link
    href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&family=Montserrat:wght@300;400;500;600;700&display=swap"
    rel="stylesheet">

  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <link href="/css/styles.css" rel="stylesheet">
</head>

<body>
  <!-- HEADER -->
  <%- include('../../partials/header') %>

  <div class="container mt-4">

    <!-- PAGE HEADER -->
    <div class="page-header">
      <h1 class="page-title">Add Milestone</h1>
      <p class="page-subtitle">
        Create a new achievement for this participant.
      </p>
    </div>

    <!-- FORM CARD -->
    <div class="form-card">
      <form action="/milestoneAdd" method="POST">

        <!-- Hidden member ID -->
        <input type="hidden" name="memberid" value="<%= memberid %>">
        <input type="hidden" name="ref" value="<%= ref || 'milestones' %>">

        <!-- Title -->
        <div class="mb-3">
          <label class="form-label">Milestone Title</label>
          <input 
            type="text"
            class="form-control"
            name="milestonetitle"
            placeholder="Enter milestone title"
            required
          >
        </div>

        <!-- Date -->
        <div class="mb-3">
          <label class="form-label">Achievement Date</label>
          <input 
            type="date"
            class="form-control"
            name="milestonedate"
            required
          >
        </div>

        <!-- ACTION BUTTONS -->
        <button type="submit" class="btn btn-primary btn-sm-pill">Save Milestone</button>

        <a 
          href="/<%= ref === 'user_profile' ? `user_profile/${memberid}` : 'milestones' %>"
          class="btn btn-secondary btn-sm-pill ms-2"
        >
          Cancel
        </a>

      </form>
    </div>

    <div class="footer">
      © <%= new Date().getFullYear() %> Ella Rises · Add Milestone
    </div>

  </div>
</body>
</html>
